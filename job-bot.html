import React, { useState, useEffect } from 'react';
import { Bell, User, Briefcase, Settings, Play, Pause, Calendar, Target, Star, ExternalLink, Upload, Save, Zap, Clock, MapPin, DollarSign, Filter, TrendingUp } from 'lucide-react';

const AutoJobBot = () => {
  const [activeTab, setActiveTab] = useState('profile');
  const [isActive, setIsActive] = useState(false);
  const [notifications, setNotifications] = useState([]);
  const [lastUpdate, setLastUpdate] = useState(new Date());
  
  // ÂÄã‰∫∫Ë≥áÊñôË®≠ÂÆö
  const [profile, setProfile] = useState({
    name: 'ÂºµÂ∞èÊòé',
    email: 'example@email.com',
    phone: '0912-345-678',
    location: 'Âè∞ÂåóÂ∏Ç',
    title: 'ËªüÈ´îÂ∑•Á®ãÂ∏´',
    experience: '3-5Âπ¥',
    skills: ['JavaScript', 'React', 'Node.js', 'Python'],
    education: 'ÂúãÁ´ãÂè∞ÁÅ£Â§ßÂ≠∏ Ë≥áË®äÂ∑•Á®ãÂ≠∏Á≥ª',
    languages: ['‰∏≠Êñá(ÊØçË™û)', 'Ëã±Êñá(ÊµÅÂà©)', 'Êó•Êñá(Âü∫Á§é)'],
    expectedSalary: '70k-100k',
    workType: ['ÂÖ®ËÅ∑', 'ÈÅ†Á´ØÂ∑•‰Ωú'],
    industries: ['ÁßëÊäÄÊ•≠', 'Êñ∞ÂâµÂÖ¨Âè∏'],
    resume: null
  });

  // ÊêúÂ∞ãÂÅèÂ•ΩË®≠ÂÆö
  const [searchPrefs, setSearchPrefs] = useState({
    keywords: ['React ÈñãÁôº', 'ÂâçÁ´ØÂ∑•Á®ãÂ∏´', 'JavaScript'],
    locations: ['Âè∞Âåó', 'Êñ∞Á´π', 'ÈÅ†Á´Ø'],
    salaryMin: 60000,
    salaryMax: 120000,
    jobTypes: ['ÂÖ®ËÅ∑', 'ÂêàÁ¥Ñ'],
    experienceLevel: ['mid', 'senior'],
    excludeCompanies: [],
    mustHaveKeywords: ['React'],
    preferredCompanies: ['Google', 'Microsoft', 'TSMC'],
    workMode: ['ÈÅ†Á´Ø', 'Ê∑∑Âêà'],
    benefits: ['ËÇ°Á•®ÈÅ∏ÊìáÊ¨ä', 'ÂΩàÊÄßÂ∑•ÊôÇ', 'ÂÅ•‰øù'],
    updateFrequency: 'daily'
  });

  // Ëá™ÂãïÂåñË®≠ÂÆö
  const [automation, setAutomation] = useState({
    enabled: false,
    schedule: {
      frequency: 'daily', // daily, hourly, weekly
      time: '09:00',
      timezone: 'Asia/Taipei'
    },
    filters: {
      minMatchScore: 75,
      maxJobsPerDay: 10,
      autoApply: false,
      smartFiltering: true
    },
    notifications: {
      email: true,
      push: true,
      sms: false,
      slack: false
    }
  });

  // Ê®°Êì¨Â∑•‰ΩúÊï∏Êìö
  const [jobs, setJobs] = useState([]);
  const [matchedJobs, setMatchedJobs] = useState([]);

  // Ê®°Êì¨Êé®Êí≠ÁöÑÂ∑•‰ΩúÊ©üÊúÉ
  const sampleJobs = [
    {
      id: 1,
      title: 'Senior React Developer',
      company: 'TechCorp Taiwan',
      location: 'Âè∞ÂåóÂ∏Ç‰ø°Áæ©ÂçÄ',
      salary: '80K - 120K',
      type: 'ÂÖ®ËÅ∑',
      remote: true,
      matchScore: 95,
      postedDate: new Date(Date.now() - 2 * 60 * 60 * 1000),
      description: 'Â∞ãÊâæÊúâÁ∂ìÈ©óÁöÑReactÈñãÁôºËÄÖÔºåË≤†Ë≤¨ÂâçÁ´ØÊû∂ÊßãË®≠Ë®à...',
      requirements: ['React', 'TypeScript', '3Âπ¥‰ª•‰∏äÁ∂ìÈ©ó'],
      benefits: ['ËÇ°Á•®ÈÅ∏ÊìáÊ¨ä', 'ÂΩàÊÄßÂ∑•ÊôÇ', 'ÈÅ†Á´ØÂ∑•‰Ωú'],
      source: 'LinkedIn',
      url: 'https://linkedin.com/jobs/123'
    },
    {
      id: 2,
      title: 'ÂâçÁ´ØÂ∑•Á®ãÂ∏´ (React)',
      company: 'Êñ∞ÂâµÁßëÊäÄËÇ°‰ªΩÊúâÈôêÂÖ¨Âè∏',
      location: 'Êñ∞Á´πÁßëÂ≠∏ÂúíÂçÄ',
      salary: '65K - 90K',
      type: 'ÂÖ®ËÅ∑',
      remote: false,
      matchScore: 88,
      postedDate: new Date(Date.now() - 4 * 60 * 60 * 1000),
      description: 'Âä†ÂÖ•ÊàëÂÄëÁöÑÂúòÈöäÔºåÈñãÁôºÂâµÊñ∞ÁöÑWebÊáâÁî®Á®ãÂºè...',
      requirements: ['React', 'JavaScript', 'Git'],
      benefits: ['Âπ¥ÁµÇÁçéÈáë', 'ÊïôËÇ≤Ë®ìÁ∑¥', 'ÂúòÈöäÊóÖÈÅä'],
      source: '104‰∫∫ÂäõÈäÄË°å',
      url: 'https://104.com.tw/job/123'
    },
    {
      id: 3,
      title: 'Full Stack Engineer',
      company: 'Global Tech Solutions',
      location: 'Âè∞ÂåóÂ∏Ç (ÈÅ†Á´ØÂ∑•‰Ωú)',
      salary: '90K - 140K',
      type: 'ÂÖ®ËÅ∑',
      remote: true,
      matchScore: 92,
      postedDate: new Date(Date.now() - 1 * 60 * 60 * 1000),
      description: 'Â∞ãÊâæËÉΩÁç®Á´ã‰ΩúÊ•≠ÁöÑÂÖ®Á´ØÂ∑•Á®ãÂ∏´...',
      requirements: ['React', 'Node.js', 'MongoDB', 'Ëã±ÊñáÊµÅÂà©'],
      benefits: ['ÈÅ†Á´ØÂ∑•‰Ωú', 'ÂΩàÊÄßÊôÇÈñì', 'ÂúãÈöõÂúòÈöä'],
      source: 'Indeed',
      url: 'https://indeed.com/job/123'
    }
  ];

  // ÂïüÂãïËá™ÂãïÂåñ
  const startAutomation = () => {
    setIsActive(true);
    setAutomation({...automation, enabled: true});
    
    // Ê®°Êì¨Á´ãÂç≥ÊêúÂ∞ã
    setTimeout(() => {
      const newJobs = sampleJobs.filter(job => job.matchScore >= automation.filters.minMatchScore);
      setMatchedJobs(newJobs);
      
      // Ê∑ªÂä†ÈÄöÁü•
      const newNotification = {
        id: Date.now(),
        type: 'jobs_found',
        title: `ÊâæÂà∞ ${newJobs.length} ÂÄãÁ¨¶ÂêàÊ¢ù‰ª∂ÁöÑÂ∑•‰ΩúÊ©üÊúÉÔºÅ`,
        message: `Ê†πÊìö‰Ω†ÁöÑË®≠ÂÆöÔºåÊàëÂÄëÊâæÂà∞‰∫Ü ${newJobs.length} ÂÄãÂåπÈÖçÂ∫¶Ë∂ÖÈÅé ${automation.filters.minMatchScore}% ÁöÑËÅ∑Áº∫`,
        timestamp: new Date(),
        jobs: newJobs
      };
      
      setNotifications(prev => [newNotification, ...prev]);
      setLastUpdate(new Date());
    }, 2000);
  };

  const stopAutomation = () => {
    setIsActive(false);
    setAutomation({...automation, enabled: false});
  };

  // Ê®°Êì¨ÂÆöÊôÇÊõ¥Êñ∞
  useEffect(() => {
    if (!isActive) return;
    
    const interval = setInterval(() => {
      // Ê®°Êì¨ÂÆöÊôÇÊêúÂ∞ãÊñ∞Â∑•‰Ωú
      const randomJob = sampleJobs[Math.floor(Math.random() * sampleJobs.length)];
      const newJob = {
        ...randomJob,
        id: Date.now(),
        postedDate: new Date(),
        matchScore: Math.floor(Math.random() * 20) + 80
      };
      
      if (newJob.matchScore >= automation.filters.minMatchScore) {
        setMatchedJobs(prev => [newJob, ...prev.slice(0, 9)]);
        
        const notification = {
          id: Date.now(),
          type: 'new_job',
          title: 'üî• ÁôºÁèæÊñ∞ÁöÑÂ∑•‰ΩúÊ©üÊúÉÔºÅ',
          message: `${newJob.company} ÁöÑ ${newJob.title} ËÅ∑‰Ωç (ÂåπÈÖçÂ∫¶: ${newJob.matchScore}%)`,
          timestamp: new Date(),
          job: newJob
        };
        
        setNotifications(prev => [notification, ...prev.slice(0, 19)]);
        setLastUpdate(new Date());
      }
    }, 30000); // 30ÁßíÊ®°Êì¨‰∏ÄÊ¨°Êõ¥Êñ∞

    return () => clearInterval(interval);
  }, [isActive, automation.filters.minMatchScore]);

  const ProfileTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center">
          <User className="w-5 h-5 mr-2" />
          Âü∫Êú¨Ë≥áÊñô
        </h3>
        
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">ÂßìÂêç</label>
            <input
              type="text"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.name}
              onChange={(e) => setProfile({...profile, name: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">Email</label>
            <input
              type="email"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.email}
              onChange={(e) => setProfile({...profile, email: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">ËÅØÁµ°ÈõªË©±</label>
            <input
              type="tel"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.phone}
              onChange={(e) => setProfile({...profile, phone: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">ÊâÄÂú®Âú∞Èªû</label>
            <input
              type="text"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.location}
              onChange={(e) => setProfile({...profile, location: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">ÊúüÊúõËÅ∑Á®±</label>
            <input
              type="text"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.title}
              onChange={(e) => setProfile({...profile, title: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">Â∑•‰ΩúÁ∂ìÈ©ó</label>
            <select
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.experience}
              onChange={(e) => setProfile({...profile, experience: e.target.value})}
            >
              <option value="Êñ∞ÈÆÆ‰∫∫">Êñ∞ÈÆÆ‰∫∫</option>
              <option value="1-3Âπ¥">1-3Âπ¥</option>
              <option value="3-5Âπ¥">3-5Âπ¥</option>
              <option value="5-10Âπ¥">5-10Âπ¥</option>
              <option value="10Âπ¥‰ª•‰∏ä">10Âπ¥‰ª•‰∏ä</option>
            </select>
          </div>
        </div>
        
        <div className="mt-4">
          <label className="block text-sm font-medium text-gray-700 mb-2">ÊäÄËÉΩÊ®ôÁ±§</label>
          <div className="flex flex-wrap gap-2 mb-2">
            {profile.skills.map((skill, index) => (
              <span key={index} className="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">
                {skill}
                <button
                  onClick={() => setProfile({
                    ...profile, 
                    skills: profile.skills.filter((_, i) => i !== index)
                  })}
                  className="ml-2 text-blue-600 hover:text-blue-800"
                >
                  √ó
                </button>
              </span>
            ))}
          </div>
          <input
            type="text"
            placeholder="Ëº∏ÂÖ•ÊäÄËÉΩÂæåÊåâEnter"
            className="w-full p-3 border border-gray-300 rounded-lg"
            onKeyPress={(e) => {
              if (e.key === 'Enter' && e.target.value.trim()) {
                setProfile({
                  ...profile,
                  skills: [...profile.skills, e.target.value.trim()]
                });
                e.target.value = '';
              }
            }}
          />
        </div>
      </div>

      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-bold text-gray-800 mb-4">Â±•Ê≠∑‰∏äÂÇ≥</h3>
        <div className="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
          <Upload className="w-12 h-12 text-gray-400 mx-auto mb-4" />
          <p className="text-gray-600 mb-2">ÊãñÊãΩÊ™îÊ°àÂà∞Ê≠§ËôïÊàñÈªûÊìä‰∏äÂÇ≥</p>
          <p className="text-sm text-gray-500">ÊîØÊè¥ PDF, DOCX Ê†ºÂºè</p>
          <button className="mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
            ÈÅ∏ÊìáÊ™îÊ°à
          </button>
        </div>
      </div>
    </div>
  );

  const SearchTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center">
          <Target className="w-5 h-5 mr-2" />
          ÊêúÂ∞ãÂÅèÂ•ΩË®≠ÂÆö
        </h3>
        
        <div className="space-y-4">
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">ÈóúÈçµÂ≠óÊêúÂ∞ã</label>
            <div className="flex flex-wrap gap-2 mb-2">
              {searchPrefs.keywords.map((keyword, index) => (
                <span key={index} className="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">
                  {keyword}
                  <button
                    onClick={() => setSearchPrefs({
                      ...searchPrefs,
                      keywords: searchPrefs.keywords.filter((_, i) => i !== index)
                    })}
                    className="ml-2 text-green-600 hover:text-green-800"
                  >
                    √ó
                  </button>
                </span>
              ))}
            </div>
            <input
              type="text"
              placeholder="Ëº∏ÂÖ•ÈóúÈçµÂ≠óÂæåÊåâEnter"
              className="w-full p-3 border border-gray-300 rounded-lg"
              onKeyPress={(e) => {
                if (e.key === 'Enter' && e.target.value.trim()) {
                  setSearchPrefs({
                    ...searchPrefs,
                    keywords: [...searchPrefs.keywords, e.target.value.trim()]
                  });
                  e.target.value = '';
                }
              }}
            />
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">ÊúÄ‰ΩéËñ™Ë≥á</label>
              <input
                type="number"
                className="w-full p-3 border border-gray-300 rounded-lg"
                value={searchPrefs.salaryMin}
                onChange={(e) => setSearchPrefs({...searchPrefs, salaryMin: parseInt(e.target.value)})}
              />
            </div>
            
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">ÊúÄÈ´òËñ™Ë≥á</label>
              <input
                type="number"
                className="w-full p-3 border border-gray-300 rounded-lg"
                value={searchPrefs.salaryMax}
                onChange={(e) => setSearchPrefs({...searchPrefs, salaryMax: parseInt(e.target.value)})}
              />
            </div>
          </div>

          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">ÂÅèÂ•ΩÂú∞Èªû</label>
            <div className="flex flex-wrap gap-2 mb-2">
              {searchPrefs.locations.map((location, index) => (
                <span key={index} className="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm">
                  {location}
                  <button
                    onClick={() => setSearchPrefs({
                      ...searchPrefs,
                      locations: searchPrefs.locations.filter((_, i) => i !== index)
                    })}
                    className="ml-2 text-purple-600 hover:text-purple-800"
                  >
                    √ó
                  </button>
                </span>
              ))}
            </div>
            <input
              type="text"
              placeholder="Ëº∏ÂÖ•Âú∞ÈªûÂæåÊåâEnter"
              className="w-full p-3 border border-gray-300 rounded-lg"
              onKeyPress={(e) => {
                if (e.key === 'Enter' && e.target.value.trim()) {
                  setSearchPrefs({
                    ...searchPrefs,
                    locations: [...searchPrefs.locations, e.target.value.trim()]
                  });
                  e.target.value = '';
                }
              }}
            />
          </div>
        </div>
      </div>
    </div>
  );

  const AutomationTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-bold text-gray-800 flex items-center">
            <Zap className="w-5 h-5 mr-2" />
            Ëá™ÂãïÂåñË®≠ÂÆö
          </h3>
          
          <div className="flex items-center space-x-4">
            <span className={`px-3 py-1 rounded-full text-sm ${isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}`}>
              {isActive ? 'ÈÅãË°å‰∏≠' : 'Â∑≤ÂÅúÊ≠¢'}
            </span>
            
            {!isActive ? (
              <button
                onClick={startAutomation}
                className="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 flex items-center"
              >
                <Play className="w-4 h-4 mr-2" />
                ÂïüÂãïÊ©üÂô®‰∫∫
              </button>
            ) : (
              <button
                onClick={stopAutomation}
                className="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 flex items-center"
              >
                <Pause className="w-4 h-4 mr-2" />
                ÂÅúÊ≠¢Ê©üÂô®‰∫∫
              </button>
            )}
          </div>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h4 className="font-medium text-gray-800 mb-3">ÊêúÂ∞ãÈ†ªÁéá</h4>
            <select
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={automation.schedule.frequency}
              onChange={(e) => setAutomation({
                ...automation,
                schedule: {...automation.schedule, frequency: e.target.value}
              })}
            >
              <option value="hourly">ÊØèÂ∞èÊôÇ</option>
              <option value="daily">ÊØèÊó•</option>
              <option value="weekly">ÊØèÈÄ±</option>
            </select>
          </div>

          <div>
            <h4 className="font-medium text-gray-800 mb-3">Âü∑Ë°åÊôÇÈñì</h4>
            <input
              type="time"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={automation.schedule.time}
              onChange={(e) => setAutomation({
                ...automation,
                schedule: {...automation.schedule, time: e.target.value}
              })}
            />
          </div>

          <div>
            <h4 className="font-medium text-gray-800 mb-3">ÊúÄ‰ΩéÂåπÈÖçÂàÜÊï∏</h4>
            <input
              type="range"
              min="50"
              max="100"
              className="w-full"
              value={automation.filters.minMatchScore}
              onChange={(e) => setAutomation({
                ...automation,
                filters: {...automation.filters, minMatchScore: parseInt(e.target.value)}
              })}
            />
            <div className="text-center text-sm text-gray-600 mt-1">
              {automation.filters.minMatchScore}%
            </div>
          </div>

          <div>
            <h4 className="font-medium text-gray-800 mb-3">ÊØèÊó•ÊúÄÂ§ßÊé®Êí≠Êï∏</h4>
            <input
              type="number"
              min="1"
              max="50"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={automation.filters.maxJobsPerDay}
              onChange={(e) => setAutomation({
                ...automation,
                filters: {...automation.filters, maxJobsPerDay: parseInt(e.target.value)}
              })}
            />
          </div>
        </div>

        <div className="mt-6">
          <h4 className="font-medium text-gray-800 mb-3">ÈÄöÁü•Ë®≠ÂÆö</h4>
          <div className="space-y-2">
            <label className="flex items-center">
              <input
                type="checkbox"
                checked={automation.notifications.email}
                onChange={(e) => setAutomation({
                  ...automation,
                  notifications: {...automation.notifications, email: e.target.checked}
                })}
                className="mr-2"
              />
              Email ÈÄöÁü•
            </label>
            <label className="flex items-center">
              <input
                type="checkbox"
                checked={automation.notifications.push}
                onChange={(e) => setAutomation({
                  ...automation,
                  notifications: {...automation.notifications, push: e.target.checked}
                })}
                className="mr-2"
              />
              ÁÄèË¶ΩÂô®Êé®Êí≠
            </label>
            <label className="flex items-center">
              <input
                type="checkbox"
                checked={automation.notifications.sms}
                onChange={(e) => setAutomation({
                  ...automation,
                  notifications: {...automation.notifications, sms: e.target.checked}
                })}
                className="mr-2"
              />
              Á∞°Ë®äÈÄöÁü•
            </label>
          </div>
        </div>
      </div>
    </div>
  );

  const JobsTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-bold text-gray-800 flex items-center">
            <Briefcase className="w-5 h-5 mr-2" />
            Êé®Ëñ¶Â∑•‰Ωú ({matchedJobs.length})
          </h3>
          <div className="text-sm text-gray-600">
            ÊúÄÂæåÊõ¥Êñ∞: {lastUpdate.toLocaleTimeString('zh-TW')}
          </div>
        </div>

        {matchedJobs.length === 0 ? (
          <div className="text-center py-8 text-gray-500">
            <Briefcase className="w-12 h-12 mx-auto mb-4 text-gray-300" />
            <p>Â∞öÊú™ÊâæÂà∞Á¨¶ÂêàÊ¢ù‰ª∂ÁöÑÂ∑•‰Ωú</p>
            <p className="text-sm">Ë´ãÂïüÂãïÊ©üÂô®‰∫∫ÈñãÂßãËá™ÂãïÊêúÂ∞ã</p>
          </div>
        ) : (
          <div className="space-y-4">
            {matchedJobs.map((job) => (
              <div key={job.id} className="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                <div className="flex justify-between items-start mb-2">
                  <div>
                    <h4 className="text-lg font-bold text-gray-800">{job.title}</h4>
                    <p className="text-gray-600">{job.company}</p>
                  </div>
                  <div className="text-right">
                    <div className={`px-2 py-1 rounded-full text-xs ${
                      job.matchScore >= 90 ? 'bg-green-100 text-green-800' :
                      job.matchScore >= 80 ? 'bg-yellow-100 text-yellow-800' :
                      'bg-gray-100 text-gray-800'
                    }`}>
                      ÂåπÈÖçÂ∫¶ {job.matchScore}%
                    </div>
                    <p className="text-sm text-gray-500 mt-1">
                      {new Date(job.postedDate).toLocaleString('zh-TW')}
                    </p>
                  </div>
                </div>

                <div className="flex items-center text-sm text-gray-600 mb-2 space-x-4">
                  <span className="flex items-center">
                    <MapPin className="w-4 h-4 mr-1" />
                    {job.location}
                  </span>
                  <span className="flex items-center">
                    <DollarSign className="w-4 h-4 mr-1" />
                    {job.salary}
                  </span>
                  <span className="flex items-center">
                    <Clock className="w-4 h-4 mr-1" />
                    {job.type}
                  </span>
                  {job.remote && (
                    <span className="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">
                      ÈÅ†Á´ØÂ∑•‰Ωú
                    </span>
                  )}
                </div>

                <p className="text-gray-700 mb-3">{job.description}</p>

                <div className="flex flex-wrap gap-2 mb-3">
                  {job.requirements.map((req, index) => (
                    <span key={index} className="px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded">
                      {req}
                    </span>
                  ))}
                </div>

                <div className="flex justify-between items-center">
                  <div className="text-sm text-gray-600">
                    ‰æÜÊ∫ê: {job.source}
                  </div>
                  <div className="space-x-2">
                    <button className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm">
                      Êî∂Ëóè
                    </button>
                    <a
                      href={job.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 text-sm inline-flex items-center"
                    >
                      Áî≥Ë´ã <ExternalLink className="w-4 h-4 ml-1" />
                    </a>
                  </div>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  );

  const NotificationsTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center">
          <Bell className="w-5 h-5 mr-2" />
          ÈÄöÁü•Ë®òÈåÑ ({notifications.length})
        </h3>

        {notifications.length === 0 ? (
          <div className="text-center py-8 text-gray-500">
            <Bell className="w-12 h-12 mx-auto mb-4 text-gray-300" />
            <p>Â∞öÁÑ°ÈÄöÁü•Ë®òÈåÑ</p>
          </div>
        ) : (
          <div className="space-y-3">
            {notifications.map((notification) => (
              <div key={notification.id} className="border-l-4 border-blue-500 bg-blue-50 p-4 rounded">
                <div className="flex justify-between items-start">
                  <div>
                    <h4 className="font-medium text-gray-800">{notification.title}</h4>
                    <p className="text-gray-600 text-sm mt-1">{notification.message}</p>
                  </div>
                  <span className="text-xs text-gray-500">
                    {notification.timestamp.toLocaleTimeString('zh-TW')}
                  </span>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  );

  const tabs = [
    { id: 'profile', label: 'ÂÄã‰∫∫Ë≥áÊñô', icon: User, component: ProfileTab },
    { id: 'search', label: 'ÊêúÂ∞ãË®≠ÂÆö', icon: Target, component: SearchTab },
    { id: 'automation', label: 'Ëá™ÂãïÂåñ', icon: Zap, component: AutomationTab },
    { id: 'jobs', label: 'Êé®Ëñ¶Â∑•‰Ωú', icon: Briefcase, component: JobsTab },
    { id: 'notifications', label: 'ÈÄöÁü•', icon: Bell, component: NotificationsTab }
  ];

  return (
    <div className="max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen">
      <div className="text-center mb-8">
        <h1 className="text-3xl font-bold text-gray-800 mb-2">
          ü§ñ AIËá™ÂãïÂåñÊ±ÇËÅ∑Êé®Êí≠Ê©üÂô®‰∫∫
        </h1>
        <p className="text-gray-600">24/7 Ëá™ÂãïÊêúÂ∞ã ‚Ä¢ Êô∫ËÉΩÂåπÈÖç ‚Ä¢ Âç≥ÊôÇÊé®Êí≠</p>
        
        {isActive && (
          <div className="mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">
            <div className="flex items-center justify-center">
              <div className="animate-pulse w-2 h-2 bg-green-500 rounded-full mr-2"></div>
              Ê©üÂô®‰∫∫Ê≠£Âú®ÈÅãË°å‰∏≠ÔºåÂ∞áËá™ÂãïÁÇ∫ÊÇ®ÊêúÂ∞ãÂêàÈÅ©ÁöÑÂ∑•‰ΩúÊ©üÊúÉ
            </div>
          </div>
        )}
      </div>

      <div className="bg-white rounded-lg shadow-md">
        <div className="border-b">
          <nav className="flex space-x-8 px-6">
            {tabs.map((tab) => {
              const Icon = tab.icon;
              return (
                <button
                  key={tab.id}
                  onClick={() => setActiveTab(tab.id)}
                  className={`py-4 px-2 border-b-2 font-medium text-sm flex items-center ${
                    activeTab === tab.id
                      ? 'border-blue-500 text-blue-600'
                      : 'border-transparent text-gray-500 hover:text-gray-700'
                  }`}
                >
                  <Icon className="w-4 h-4 mr-2" />
                  {tab.label}
                  {tab.id === 'jobs' && matchedJobs.length > 0 && (
                    <span className="ml-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                      {matchedJobs.length}
                    </span>
                  )}
                  {tab.id === 'notifications' && notifications.length > 0 && (
                    <span className="ml-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                      {notifications.length}
                    </span>
                  )}
                </button>
              );
            })}
          </nav>
        </div>

        <div className="p-6">
          {tabs.find(tab => tab.id === activeTab)?.component()}
        </div>
      </div>

      <div className="mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg">
        <h3 className="text-lg font-bold text-gray-800 mb-3">üöÄ Ê©üÂô®‰∫∫ÂäüËÉΩÁâπËâ≤</h3>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <div className="text-blue-500 mb-2">
              <Clock className="w-6 h-6" />
            </div>
            <h4 className="font-medium mb-1">24/7 Ëá™ÂãïÊêúÂ∞ã</h4>
            <p className="text-gray-600">ÂÆöÊôÇËá™ÂãïÊêúÂ∞ãÊúÄÊñ∞ËÅ∑Áº∫</p>
          </div>
          
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <div className="text-green-500 mb-2">
              <Target className="w-6 h-6" />
            </div>
            <h4 className="font-medium mb-1">Êô∫ËÉΩÂåπÈÖç</h4>
            <p className="text-gray-600">AIÂàÜÊûêÂåπÈÖçÂ∫¶ÔºåÁ≤æÊ∫ñÊé®Ëñ¶</p>
          </div>
          
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <div className="text-purple-500 mb-2">
              <Bell className="w-6 h-6" />
            </div>
            <h4 className="font-medium mb-1">Âç≥ÊôÇÈÄöÁü•</h4>
            <p className="text-gray-600">Â§öÁÆ°ÈÅìÈÄöÁü•Ôºå‰∏çÈåØÈÅéÊ©üÊúÉ</p>
          </div>
          
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <div className="text-orange-500 mb-2">
              <TrendingUp className="w-6 h-6" />
            </div>
            <h4 className="font-medium mb-1">Êï∏ÊìöÂàÜÊûê</h4>
            <p className="text-gray-600">Ê±ÇËÅ∑Ë∂®Âã¢ËàáËñ™Ë≥áÂàÜÊûê</p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AutoJobBot;
