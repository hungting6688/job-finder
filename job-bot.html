import React, { useState, useEffect } from 'react';
import { Bell, User, Briefcase, Settings, Play, Pause, Calendar, Target, Star, ExternalLink, Upload, Save, Zap, Clock, MapPin, DollarSign, Filter, TrendingUp } from 'lucide-react';

const AutoJobBot = () => {
  const [activeTab, setActiveTab] = useState('profile');
  const [isActive, setIsActive] = useState(false);
  const [notifications, setNotifications] = useState([]);
  const [lastUpdate, setLastUpdate] = useState(new Date());
  
  // å€‹äººè³‡æ–™è¨­å®š
  const [profile, setProfile] = useState({
    name: 'å¼µå°æ˜',
    email: 'example@email.com',
    phone: '0912-345-678',
    location: 'å°åŒ—å¸‚',
    title: 'è»Ÿé«”å·¥ç¨‹å¸«',
    experience: '3-5å¹´',
    skills: ['JavaScript', 'React', 'Node.js', 'Python'],
    education: 'åœ‹ç«‹å°ç£å¤§å­¸ è³‡è¨Šå·¥ç¨‹å­¸ç³»',
    languages: ['ä¸­æ–‡(æ¯èª)', 'è‹±æ–‡(æµåˆ©)', 'æ—¥æ–‡(åŸºç¤)'],
    expectedSalary: '70k-100k',
    workType: ['å…¨è·', 'é ç«¯å·¥ä½œ'],
    industries: ['ç§‘æŠ€æ¥­', 'æ–°å‰µå…¬å¸'],
    resume: null
  });

  // æœå°‹åå¥½è¨­å®š
  const [searchPrefs, setSearchPrefs] = useState({
    keywords: ['React é–‹ç™¼', 'å‰ç«¯å·¥ç¨‹å¸«', 'JavaScript'],
    locations: ['å°åŒ—', 'æ–°ç«¹', 'é ç«¯'],
    salaryMin: 60000,
    salaryMax: 120000,
    jobTypes: ['å…¨è·', 'åˆç´„'],
    experienceLevel: ['mid', 'senior'],
    excludeCompanies: [],
    mustHaveKeywords: ['React'],
    preferredCompanies: ['Google', 'Microsoft', 'TSMC'],
    workMode: ['é ç«¯', 'æ··åˆ'],
    benefits: ['è‚¡ç¥¨é¸æ“‡æ¬Š', 'å½ˆæ€§å·¥æ™‚', 'å¥ä¿'],
    updateFrequency: 'daily'
  });

  // è‡ªå‹•åŒ–è¨­å®š
  const [automation, setAutomation] = useState({
    enabled: false,
    schedule: {
      frequency: 'daily', // daily, hourly, weekly
      time: '09:00',
      timezone: 'Asia/Taipei'
    },
    filters: {
      minMatchScore: 75,
      maxJobsPerDay: 10,
      autoApply: false,
      smartFiltering: true
    },
    notifications: {
      email: true,
      push: true,
      sms: false,
      slack: false
    }
  });

  // æ¨¡æ“¬å·¥ä½œæ•¸æ“š
  const [jobs, setJobs] = useState([]);
  const [matchedJobs, setMatchedJobs] = useState([]);

  // æ¨¡æ“¬æ¨æ’­çš„å·¥ä½œæ©Ÿæœƒ
  const sampleJobs = [
    {
      id: 1,
      title: 'Senior React Developer',
      company: 'TechCorp Taiwan',
      location: 'å°åŒ—å¸‚ä¿¡ç¾©å€',
      salary: '80K - 120K',
      type: 'å…¨è·',
      remote: true,
      matchScore: 95,
      postedDate: new Date(Date.now() - 2 * 60 * 60 * 1000),
      description: 'å°‹æ‰¾æœ‰ç¶“é©—çš„Reacté–‹ç™¼è€…ï¼Œè² è²¬å‰ç«¯æ¶æ§‹è¨­è¨ˆ...',
      requirements: ['React', 'TypeScript', '3å¹´ä»¥ä¸Šç¶“é©—'],
      benefits: ['è‚¡ç¥¨é¸æ“‡æ¬Š', 'å½ˆæ€§å·¥æ™‚', 'é ç«¯å·¥ä½œ'],
      source: 'LinkedIn',
      url: 'https://linkedin.com/jobs/123'
    },
    {
      id: 2,
      title: 'å‰ç«¯å·¥ç¨‹å¸« (React)',
      company: 'æ–°å‰µç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸',
      location: 'æ–°ç«¹ç§‘å­¸åœ’å€',
      salary: '65K - 90K',
      type: 'å…¨è·',
      remote: false,
      matchScore: 88,
      postedDate: new Date(Date.now() - 4 * 60 * 60 * 1000),
      description: 'åŠ å…¥æˆ‘å€‘çš„åœ˜éšŠï¼Œé–‹ç™¼å‰µæ–°çš„Webæ‡‰ç”¨ç¨‹å¼...',
      requirements: ['React', 'JavaScript', 'Git'],
      benefits: ['å¹´çµ‚çé‡‘', 'æ•™è‚²è¨“ç·´', 'åœ˜éšŠæ—…éŠ'],
      source: '104äººåŠ›éŠ€è¡Œ',
      url: 'https://104.com.tw/job/123'
    },
    {
      id: 3,
      title: 'Full Stack Engineer',
      company: 'Global Tech Solutions',
      location: 'å°åŒ—å¸‚ (é ç«¯å·¥ä½œ)',
      salary: '90K - 140K',
      type: 'å…¨è·',
      remote: true,
      matchScore: 92,
      postedDate: new Date(Date.now() - 1 * 60 * 60 * 1000),
      description: 'å°‹æ‰¾èƒ½ç¨ç«‹ä½œæ¥­çš„å…¨ç«¯å·¥ç¨‹å¸«...',
      requirements: ['React', 'Node.js', 'MongoDB', 'è‹±æ–‡æµåˆ©'],
      benefits: ['é ç«¯å·¥ä½œ', 'å½ˆæ€§æ™‚é–“', 'åœ‹éš›åœ˜éšŠ'],
      source: 'Indeed',
      url: 'https://indeed.com/job/123'
    }
  ];

  // å•Ÿå‹•è‡ªå‹•åŒ–
  const startAutomation = () => {
    setIsActive(true);
    setAutomation({...automation, enabled: true});
    
    // æ¨¡æ“¬ç«‹å³æœå°‹
    setTimeout(() => {
      const newJobs = sampleJobs.filter(job => job.matchScore >= automation.filters.minMatchScore);
      setMatchedJobs(newJobs);
      
      // æ·»åŠ é€šçŸ¥
      const newNotification = {
        id: Date.now(),
        type: 'jobs_found',
        title: `æ‰¾åˆ° ${newJobs.length} å€‹ç¬¦åˆæ¢ä»¶çš„å·¥ä½œæ©Ÿæœƒï¼`,
        message: `æ ¹æ“šä½ çš„è¨­å®šï¼Œæˆ‘å€‘æ‰¾åˆ°äº† ${newJobs.length} å€‹åŒ¹é…åº¦è¶…é ${automation.filters.minMatchScore}% çš„è·ç¼º`,
        timestamp: new Date(),
        jobs: newJobs
      };
      
      setNotifications(prev => [newNotification, ...prev]);
      setLastUpdate(new Date());
    }, 2000);
  };

  const stopAutomation = () => {
    setIsActive(false);
    setAutomation({...automation, enabled: false});
  };

  // æ¨¡æ“¬å®šæ™‚æ›´æ–°
  useEffect(() => {
    if (!isActive) return;
    
    const interval = setInterval(() => {
      // æ¨¡æ“¬å®šæ™‚æœå°‹æ–°å·¥ä½œ
      const randomJob = sampleJobs[Math.floor(Math.random() * sampleJobs.length)];
      const newJob = {
        ...randomJob,
        id: Date.now(),
        postedDate: new Date(),
        matchScore: Math.floor(Math.random() * 20) + 80
      };
      
      if (newJob.matchScore >= automation.filters.minMatchScore) {
        setMatchedJobs(prev => [newJob, ...prev.slice(0, 9)]);
        
        const notification = {
          id: Date.now(),
          type: 'new_job',
          title: 'ğŸ”¥ ç™¼ç¾æ–°çš„å·¥ä½œæ©Ÿæœƒï¼',
          message: `${newJob.company} çš„ ${newJob.title} è·ä½ (åŒ¹é…åº¦: ${newJob.matchScore}%)`,
          timestamp: new Date(),
          job: newJob
        };
        
        setNotifications(prev => [notification, ...prev.slice(0, 19)]);
        setLastUpdate(new Date());
      }
    }, 30000); // 30ç§’æ¨¡æ“¬ä¸€æ¬¡æ›´æ–°

    return () => clearInterval(interval);
  }, [isActive, automation.filters.minMatchScore]);

  const ProfileTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center">
          <User className="w-5 h-5 mr-2" />
          åŸºæœ¬è³‡æ–™
        </h3>
        
        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">å§“å</label>
            <input
              type="text"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.name}
              onChange={(e) => setProfile({...profile, name: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">Email</label>
            <input
              type="email"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.email}
              onChange={(e) => setProfile({...profile, email: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">è¯çµ¡é›»è©±</label>
            <input
              type="tel"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.phone}
              onChange={(e) => setProfile({...profile, phone: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">æ‰€åœ¨åœ°é»</label>
            <input
              type="text"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.location}
              onChange={(e) => setProfile({...profile, location: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">æœŸæœ›è·ç¨±</label>
            <input
              type="text"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.title}
              onChange={(e) => setProfile({...profile, title: e.target.value})}
            />
          </div>
          
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">å·¥ä½œç¶“é©—</label>
            <select
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={profile.experience}
              onChange={(e) => setProfile({...profile, experience: e.target.value})}
            >
              <option value="æ–°é®®äºº">æ–°é®®äºº</option>
              <option value="1-3å¹´">1-3å¹´</option>
              <option value="3-5å¹´">3-5å¹´</option>
              <option value="5-10å¹´">5-10å¹´</option>
              <option value="10å¹´ä»¥ä¸Š">10å¹´ä»¥ä¸Š</option>
            </select>
          </div>
        </div>
        
        <div className="mt-4">
          <label className="block text-sm font-medium text-gray-700 mb-2">æŠ€èƒ½æ¨™ç±¤</label>
          <div className="flex flex-wrap gap-2 mb-2">
            {profile.skills.map((skill, index) => (
              <span key={index} className="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">
                {skill}
                <button
                  onClick={() => setProfile({
                    ...profile, 
                    skills: profile.skills.filter((_, i) => i !== index)
                  })}
                  className="ml-2 text-blue-600 hover:text-blue-800"
                >
                  Ã—
                </button>
              </span>
            ))}
          </div>
          <input
            type="text"
            placeholder="è¼¸å…¥æŠ€èƒ½å¾ŒæŒ‰Enter"
            className="w-full p-3 border border-gray-300 rounded-lg"
            onKeyPress={(e) => {
              if (e.key === 'Enter' && e.target.value.trim()) {
                setProfile({
                  ...profile,
                  skills: [...profile.skills, e.target.value.trim()]
                });
                e.target.value = '';
              }
            }}
          />
        </div>
      </div>

      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-bold text-gray-800 mb-4">å±¥æ­·ä¸Šå‚³</h3>
        <div className="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
          <Upload className="w-12 h-12 text-gray-400 mx-auto mb-4" />
          <p className="text-gray-600 mb-2">æ‹–æ‹½æª”æ¡ˆåˆ°æ­¤è™•æˆ–é»æ“Šä¸Šå‚³</p>
          <p className="text-sm text-gray-500">æ”¯æ´ PDF, DOCX æ ¼å¼</p>
          <button className="mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
            é¸æ“‡æª”æ¡ˆ
          </button>
        </div>
      </div>
    </div>
  );

  const SearchTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center">
          <Target className="w-5 h-5 mr-2" />
          æœå°‹åå¥½è¨­å®š
        </h3>
        
        <div className="space-y-4">
          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">é—œéµå­—æœå°‹</label>
            <div className="flex flex-wrap gap-2 mb-2">
              {searchPrefs.keywords.map((keyword, index) => (
                <span key={index} className="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">
                  {keyword}
                  <button
                    onClick={() => setSearchPrefs({
                      ...searchPrefs,
                      keywords: searchPrefs.keywords.filter((_, i) => i !== index)
                    })}
                    className="ml-2 text-green-600 hover:text-green-800"
                  >
                    Ã—
                  </button>
                </span>
              ))}
            </div>
            <input
              type="text"
              placeholder="è¼¸å…¥é—œéµå­—å¾ŒæŒ‰Enter"
              className="w-full p-3 border border-gray-300 rounded-lg"
              onKeyPress={(e) => {
                if (e.key === 'Enter' && e.target.value.trim()) {
                  setSearchPrefs({
                    ...searchPrefs,
                    keywords: [...searchPrefs.keywords, e.target.value.trim()]
                  });
                  e.target.value = '';
                }
              }}
            />
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">æœ€ä½è–ªè³‡</label>
              <input
                type="number"
                className="w-full p-3 border border-gray-300 rounded-lg"
                value={searchPrefs.salaryMin}
                onChange={(e) => setSearchPrefs({...searchPrefs, salaryMin: parseInt(e.target.value)})}
              />
            </div>
            
            <div>
              <label className="block text-sm font-medium text-gray-700 mb-2">æœ€é«˜è–ªè³‡</label>
              <input
                type="number"
                className="w-full p-3 border border-gray-300 rounded-lg"
                value={searchPrefs.salaryMax}
                onChange={(e) => setSearchPrefs({...searchPrefs, salaryMax: parseInt(e.target.value)})}
              />
            </div>
          </div>

          <div>
            <label className="block text-sm font-medium text-gray-700 mb-2">åå¥½åœ°é»</label>
            <div className="flex flex-wrap gap-2 mb-2">
              {searchPrefs.locations.map((location, index) => (
                <span key={index} className="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm">
                  {location}
                  <button
                    onClick={() => setSearchPrefs({
                      ...searchPrefs,
                      locations: searchPrefs.locations.filter((_, i) => i !== index)
                    })}
                    className="ml-2 text-purple-600 hover:text-purple-800"
                  >
                    Ã—
                  </button>
                </span>
              ))}
            </div>
            <input
              type="text"
              placeholder="è¼¸å…¥åœ°é»å¾ŒæŒ‰Enter"
              className="w-full p-3 border border-gray-300 rounded-lg"
              onKeyPress={(e) => {
                if (e.key === 'Enter' && e.target.value.trim()) {
                  setSearchPrefs({
                    ...searchPrefs,
                    locations: [...searchPrefs.locations, e.target.value.trim()]
                  });
                  e.target.value = '';
                }
              }}
            />
          </div>
        </div>
      </div>
    </div>
  );

  const AutomationTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-bold text-gray-800 flex items-center">
            <Zap className="w-5 h-5 mr-2" />
            è‡ªå‹•åŒ–è¨­å®š
          </h3>
          
          <div className="flex items-center space-x-4">
            <span className={`px-3 py-1 rounded-full text-sm ${isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-600'}`}>
              {isActive ? 'é‹è¡Œä¸­' : 'å·²åœæ­¢'}
            </span>
            
            {!isActive ? (
              <button
                onClick={startAutomation}
                className="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 flex items-center"
              >
                <Play className="w-4 h-4 mr-2" />
                å•Ÿå‹•æ©Ÿå™¨äºº
              </button>
            ) : (
              <button
                onClick={stopAutomation}
                className="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 flex items-center"
              >
                <Pause className="w-4 h-4 mr-2" />
                åœæ­¢æ©Ÿå™¨äºº
              </button>
            )}
          </div>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h4 className="font-medium text-gray-800 mb-3">æœå°‹é »ç‡</h4>
            <select
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={automation.schedule.frequency}
              onChange={(e) => setAutomation({
                ...automation,
                schedule: {...automation.schedule, frequency: e.target.value}
              })}
            >
              <option value="hourly">æ¯å°æ™‚</option>
              <option value="daily">æ¯æ—¥</option>
              <option value="weekly">æ¯é€±</option>
            </select>
          </div>

          <div>
            <h4 className="font-medium text-gray-800 mb-3">åŸ·è¡Œæ™‚é–“</h4>
            <input
              type="time"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={automation.schedule.time}
              onChange={(e) => setAutomation({
                ...automation,
                schedule: {...automation.schedule, time: e.target.value}
              })}
            />
          </div>

          <div>
            <h4 className="font-medium text-gray-800 mb-3">æœ€ä½åŒ¹é…åˆ†æ•¸</h4>
            <input
              type="range"
              min="50"
              max="100"
              className="w-full"
              value={automation.filters.minMatchScore}
              onChange={(e) => setAutomation({
                ...automation,
                filters: {...automation.filters, minMatchScore: parseInt(e.target.value)}
              })}
            />
            <div className="text-center text-sm text-gray-600 mt-1">
              {automation.filters.minMatchScore}%
            </div>
          </div>

          <div>
            <h4 className="font-medium text-gray-800 mb-3">æ¯æ—¥æœ€å¤§æ¨æ’­æ•¸</h4>
            <input
              type="number"
              min="1"
              max="50"
              className="w-full p-3 border border-gray-300 rounded-lg"
              value={automation.filters.maxJobsPerDay}
              onChange={(e) => setAutomation({
                ...automation,
                filters: {...automation.filters, maxJobsPerDay: parseInt(e.target.value)}
              })}
            />
          </div>
        </div>

        <div className="mt-6">
          <h4 className="font-medium text-gray-800 mb-3">é€šçŸ¥è¨­å®š</h4>
          <div className="space-y-2">
            <label className="flex items-center">
              <input
                type="checkbox"
                checked={automation.notifications.email}
                onChange={(e) => setAutomation({
                  ...automation,
                  notifications: {...automation.notifications, email: e.target.checked}
                })}
                className="mr-2"
              />
              Email é€šçŸ¥
            </label>
            <label className="flex items-center">
              <input
                type="checkbox"
                checked={automation.notifications.push}
                onChange={(e) => setAutomation({
                  ...automation,
                  notifications: {...automation.notifications, push: e.target.checked}
                })}
                className="mr-2"
              />
              ç€è¦½å™¨æ¨æ’­
            </label>
            <label className="flex items-center">
              <input
                type="checkbox"
                checked={automation.notifications.sms}
                onChange={(e) => setAutomation({
                  ...automation,
                  notifications: {...automation.notifications, sms: e.target.checked}
                })}
                className="mr-2"
              />
              ç°¡è¨Šé€šçŸ¥
            </label>
          </div>
        </div>
      </div>
    </div>
  );

  const JobsTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-bold text-gray-800 flex items-center">
            <Briefcase className="w-5 h-5 mr-2" />
            æ¨è–¦å·¥ä½œ ({matchedJobs.length})
          </h3>
          <div className="text-sm text-gray-600">
            æœ€å¾Œæ›´æ–°: {lastUpdate.toLocaleTimeString('zh-TW')}
          </div>
        </div>

        {matchedJobs.length === 0 ? (
          <div className="text-center py-8 text-gray-500">
            <Briefcase className="w-12 h-12 mx-auto mb-4 text-gray-300" />
            <p>å°šæœªæ‰¾åˆ°ç¬¦åˆæ¢ä»¶çš„å·¥ä½œ</p>
            <p className="text-sm">è«‹å•Ÿå‹•æ©Ÿå™¨äººé–‹å§‹è‡ªå‹•æœå°‹</p>
          </div>
        ) : (
          <div className="space-y-4">
            {matchedJobs.map((job) => (
              <div key={job.id} className="border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow">
                <div className="flex justify-between items-start mb-2">
                  <div>
                    <h4 className="text-lg font-bold text-gray-800">{job.title}</h4>
                    <p className="text-gray-600">{job.company}</p>
                  </div>
                  <div className="text-right">
                    <div className={`px-2 py-1 rounded-full text-xs ${
                      job.matchScore >= 90 ? 'bg-green-100 text-green-800' :
                      job.matchScore >= 80 ? 'bg-yellow-100 text-yellow-800' :
                      'bg-gray-100 text-gray-800'
                    }`}>
                      åŒ¹é…åº¦ {job.matchScore}%
                    </div>
                    <p className="text-sm text-gray-500 mt-1">
                      {new Date(job.postedDate).toLocaleString('zh-TW')}
                    </p>
                  </div>
                </div>

                <div className="flex items-center text-sm text-gray-600 mb-2 space-x-4">
                  <span className="flex items-center">
                    <MapPin className="w-4 h-4 mr-1" />
                    {job.location}
                  </span>
                  <span className="flex items-center">
                    <DollarSign className="w-4 h-4 mr-1" />
                    {job.salary}
                  </span>
                  <span className="flex items-center">
                    <Clock className="w-4 h-4 mr-1" />
                    {job.type}
                  </span>
                  {job.remote && (
                    <span className="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">
                      é ç«¯å·¥ä½œ
                    </span>
                  )}
                </div>

                <p className="text-gray-700 mb-3">{job.description}</p>

                <div className="flex flex-wrap gap-2 mb-3">
                  {job.requirements.map((req, index) => (
                    <span key={index} className="px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded">
                      {req}
                    </span>
                  ))}
                </div>

                <div className="flex justify-between items-center">
                  <div className="text-sm text-gray-600">
                    ä¾†æº: {job.source}
                  </div>
                  <div className="space-x-2">
                    <button className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm">
                      æ”¶è—
                    </button>
                    <a
                      href={job.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 text-sm inline-flex items-center"
                    >
                      ç”³è«‹ <ExternalLink className="w-4 h-4 ml-1" />
                    </a>
                  </div>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  );

  const NotificationsTab = () => (
    <div className="space-y-6">
      <div className="bg-white p-6 rounded-lg shadow-md">
        <h3 className="text-lg font-bold text-gray-800 mb-4 flex items-center">
          <Bell className="w-5 h-5 mr-2" />
          é€šçŸ¥è¨˜éŒ„ ({notifications.length})
        </h3>

        {notifications.length === 0 ? (
          <div className="text-center py-8 text-gray-500">
            <Bell className="w-12 h-12 mx-auto mb-4 text-gray-300" />
            <p>å°šç„¡é€šçŸ¥è¨˜éŒ„</p>
          </div>
        ) : (
          <div className="space-y-3">
            {notifications.map((notification) => (
              <div key={notification.id} className="border-l-4 border-blue-500 bg-blue-50 p-4 rounded">
                <div className="flex justify-between items-start">
                  <div>
                    <h4 className="font-medium text-gray-800">{notification.title}</h4>
                    <p className="text-gray-600 text-sm mt-1">{notification.message}</p>
                  </div>
                  <span className="text-xs text-gray-500">
                    {notification.timestamp.toLocaleTimeString('zh-TW')}
                  </span>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  );

  const tabs = [
    { id: 'profile', label: 'å€‹äººè³‡æ–™', icon: User, component: ProfileTab },
    { id: 'search', label: 'æœå°‹è¨­å®š', icon: Target, component: SearchTab },
    { id: 'automation', label: 'è‡ªå‹•åŒ–', icon: Zap, component: AutomationTab },
    { id: 'jobs', label: 'æ¨è–¦å·¥ä½œ', icon: Briefcase, component: JobsTab },
    { id: 'notifications', label: 'é€šçŸ¥', icon: Bell, component: NotificationsTab }
  ];

  return (
    <div className="max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen">
      <div className="text-center mb-8">
        <h1 className="text-3xl font-bold text-gray-800 mb-2">
          ğŸ¤– AIè‡ªå‹•åŒ–æ±‚è·æ¨æ’­æ©Ÿå™¨äºº
        </h1>
        <p className="text-gray-600">24/7 è‡ªå‹•æœå°‹ â€¢ æ™ºèƒ½åŒ¹é… â€¢ å³æ™‚æ¨æ’­</p>
        
        {isActive && (
          <div className="mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">
            <div className="flex items-center justify-center">
              <div className="animate-pulse w-2 h-2 bg-green-500 rounded-full mr-2"></div>
              æ©Ÿå™¨äººæ­£åœ¨é‹è¡Œä¸­ï¼Œå°‡è‡ªå‹•ç‚ºæ‚¨æœå°‹åˆé©çš„å·¥ä½œæ©Ÿæœƒ
            </div>
          </div>
        )}
      </div>

      <div className="bg-white rounded-lg shadow-md">
        <div className="border-b">
          <nav className="flex space-x-8 px-6">
            {tabs.map((tab) => {
              const Icon = tab.icon;
              return (
                <button
                  key={tab.id}
                  onClick={() => setActiveTab(tab.id)}
                  className={`py-4 px-2 border-b-2 font-medium text-sm flex items-center ${
                    activeTab === tab.id
                      ? 'border-blue-500 text-blue-600'
                      : 'border-transparent text-gray-500 hover:text-gray-700'
                  }`}
                >
                  <Icon className="w-4 h-4 mr-2" />
                  {tab.label}
                  {tab.id === 'jobs' && matchedJobs.length > 0 && (
                    <span className="ml-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                      {matchedJobs.length}
                    </span>
                  )}
                  {tab.id === 'notifications' && notifications.length > 0 && (
                    <span className="ml-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                      {notifications.length}
                    </span>
                  )}
                </button>
              );
            })}
          </nav>
        </div>

        <div className="p-6">
          {tabs.find(tab => tab.id === activeTab)?.component()}
        </div>
      </div>

      <div className="mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg">
        <h3 className="text-lg font-bold text-gray-800 mb-3">ğŸš€ æ©Ÿå™¨äººåŠŸèƒ½ç‰¹è‰²</h3>
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <div className="text-blue-500 mb-2">
              <Clock className="w-6 h-6" />
            </div>
            <h4 className="font-medium mb-1">24/7 è‡ªå‹•æœå°‹</h4>
            <p className="text-gray-600">å®šæ™‚è‡ªå‹•æœå°‹æœ€æ–°è·ç¼º</p>
          </div>
          
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <div className="text-green-500 mb-2">
              <Target className="w-6 h-6" />
            </div>
            <h4 className="font-medium mb-1">æ™ºèƒ½åŒ¹é…</h4>
            <p className="text-gray-600">AIåˆ†æåŒ¹é…åº¦ï¼Œç²¾æº–æ¨è–¦</p>
          </div>
          
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <div className="text-purple-500 mb-2">
              <Bell className="w-6 h-6" />
            </div>
            <h4 className="font-medium mb-1">å³æ™‚é€šçŸ¥</h4>
            <p className="text-gray-600">å¤šç®¡é“é€šçŸ¥ï¼Œä¸éŒ¯éæ©Ÿæœƒ</p>
          </div>
          
          <div className="bg-white p-4 rounded-lg shadow-sm">
            <div className="text-orange-500 mb-2">
              <TrendingUp className="w-6 h-6" />
            </div>
            <h4 className="font-medium mb-1">æ•¸æ“šåˆ†æ</h4>
            <p className="text-gray-600">æ±‚è·è¶¨å‹¢èˆ‡è–ªè³‡åˆ†æ</p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AutoJobBot;
